webpackJsonp([2],{LWaE:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("YtJ0"),a={name:"message",data:function(){return{}},store:s.a},l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"reveal"},[e._m(0),e._v(" "),r("div",{staticClass:"line line1"}),e._v(" "),r("div",{staticClass:"line",class:1==this.$store.state.flagTwo||1==this.$store.state.flagThree?"line1":"line"}),e._v(" "),r("div",{class:1==this.$store.state.flagTwo||1==this.$store.state.flagThree?"bgc2":"circle"},[e._v("\n    2\n    "),r("div",{class:1==this.$store.state.flagTwo||1==this.$store.state.flagThree?"color2":"color",staticStyle:{width:"100px",margin:"4px 0 0 -34px"}},[e._v("提交参赛课件")])]),e._v(" "),r("div",{staticClass:"line",class:1==this.$store.state.flagTwo||1==this.$store.state.flagThree?"line1":"line"}),e._v(" "),r("div",{staticClass:"line",class:1==this.$store.state.flagThree?"line1":"line"}),e._v(" "),r("div",{class:1==this.$store.state.flagThree?"bgc2":"circle"},[e._v("\n    3\n    "),r("div",{class:1==this.$store.state.flagThree?"color2":"color"},[e._v("完成")])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"circle circle1"},[this._v("\n    1\n    "),t("div",{staticStyle:{color:"#f76c1a"}},[this._v("填写报名信息")])])}]};var i=r("VU/8")(a,l,!1,function(e){r("yPQP")},"data-v-d70730bc",null).exports,o=r("iPXC"),n=Object(o.a)("session"),c={name:"preliminary2",data:function(){return{upload1:"",upload2:"",call:"",myHeaders:{Accept:n},urlAddress:{},coursewareName:"",uploaddata:{},ruleForm:{coursewareName:""},rules:{coursewareName:[{required:!0,message:"请输入课件",trigger:"blur"}]}}},props:{val:{type:Object}},methods:{previous:function(){this.$store.state.flagOne=!0,this.$store.state.flagTwo=!1},submit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.$store.state.flagTwo=!1,t.$store.state.flagThree=!0,console.log(t.$store.state.id);var r={id:t.$store.state.id,csname:t.val.preliminary1.school+"-"+t.val.preliminary1.name+"-"+t.call,designname:t.urlAddress.urlAddress1,demoname:t.urlAddress.urlAddress2,evaluatename:t.urlAddress.urlAddress3};t.$post("/levy/preliminary/apply",r).then(function(e){console.log(e)})}),this.uploaddata.coursewareName=this.ruleForm.coursewareName,this.$store.state.preliminary.preliminary2=this.uploaddata},handleExceed:function(e,t){this.$message.warning("只能上传一个文件，您已上传")},beforeRemove:function(e,t){return this.$confirm("不符合上传类型，确定移除 "+e.name+"？")},uploadError:function(){this.$message({showClose:!0,message:"上传失败，请重试！",type:"error"})},uploadSuccess:function(e,t,r){this.urlAddress.urlAddress1=e,this.$message({showClose:!0,message:"教学上传成功",type:"success"}),this.uploaddata.fileOne=t.name,"success"==t.status&&(this.upload1=!0)},beforeAvatarUpload:function(e){var t="xls"===e.name.split(".")[1],r="xlsx"===e.name.split(".")[1],s="doc"===e.name.split(".")[1],a="docx"===e.name.split(".")[1],l="pdf"===e.name.split(".")[1],i=e.size/1024/1024<10;return t||r||s||a||l||this.$message({showClose:!0,message:"上传模板只能是 world或pdf 格式!",type:"error"}),i||this.$message({showClose:!0,message:"上传模板大小不能超过 10MB!",type:"error"}),t||r||s||a||l&&i},uploadSuccess1:function(e,t,r){this.urlAddress.urlAddress2=e,this.$message({showClose:!0,message:"课件上传成功",type:"success"}),console.log(t.name),this.uploaddata.fileTwo=t.name,"success"==t.status&&(this.upload2=!0)},beforeAvatarUpload1:function(e){var t="ppt"===e.name.split(".")[1],r="pptx"===e.name.split(".")[1],s=e.size/1024/1024<10;return t||r||this.$message({showClose:!0,message:"上传模板只能是PPT格式!",type:"error"}),s||this.$message({showClose:!0,message:"上传模板大小不能超过 10MB!",type:"error"}),t||r&&s},uploadSuccess2:function(e,t,r){this.urlAddress.urlAddress3=e,this.uploaddata.fileThree=t.name,this.$message({showClose:!0,message:"练习上传成功",type:"success"})}},updated:function(){this.call=this.val.preliminary1.call.slice(-4)},store:s.a},d={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{staticStyle:{width:"450px"},attrs:{label:"课件名称"}},[r("span",[e._v("[初赛课件]"+e._s(e.val.preliminary1.school)+"-"+e._s(e.val.preliminary1.name)+"-"+e._s(e.call))])]),e._v(" "),r("el-form-item",{attrs:{label:"教学设计",prop:"teaching"}},[r("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{prop:"logo",headers:e.myHeaders,"show-file-list":!0,drag:"",limit:1,"on-exceed":e.handleExceed,"before-remove":e.beforeRemove,onError:e.uploadError,onSuccess:e.uploadSuccess,beforeUpload:e.beforeAvatarUpload,action:"http://118.31.112.11/levy/csupload/index"}},[r("i",{staticClass:"el-icon-upload"}),e._v(" "),r("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),r("em",[e._v("点击上传")])]),e._v(" "),r("div",{staticClass:"el-upload__tip",staticStyle:{position:"absolute",top:"35px",left:"215px",color:"#ccc"},attrs:{slot:"tip"},slot:"tip"},[e._v("格式为word或PDF，且不超过10M")])])],1),e._v(" "),r("el-form-item",{attrs:{label:"演示课件",prop:"demonstration"}},[r("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{"show-file-list":!0,drag:"",headers:e.myHeaders,required:"",onError:e.uploadError,limit:1,"on-exceed":e.handleExceed,"before-remove":e.beforeRemove,onSuccess:e.uploadSuccess1,beforeUpload:e.beforeAvatarUpload1,action:"http://118.31.112.11/levy/csupload/index"}},[r("i",{staticClass:"el-icon-upload"}),e._v(" "),r("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),r("em",[e._v("点击上传")])]),e._v(" "),r("div",{staticClass:"el-upload__tip",staticStyle:{position:"absolute",top:"35px",left:"215px",color:"#ccc"},attrs:{slot:"tip"},slot:"tip"},[e._v("格式为PPT，且不超过10M")])])],1),e._v(" "),r("el-form-item",{attrs:{label:"评测练习",prop:"evaluating"}},[r("el-upload",{staticClass:"upload-demo",attrs:{"show-file-list":!0,drag:"",required:"",headers:e.myHeaders,onError:e.uploadError,limit:1,"on-exceed":e.handleExceed,"before-remove":e.beforeRemove,onSuccess:e.uploadSuccess2,beforeUpload:e.beforeAvatarUpload,action:"http://118.31.112.11/levy/csupload/index"}},[r("i",{staticClass:"el-icon-upload"}),e._v(" "),r("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),r("em",[e._v("点击上传")])]),e._v(" "),r("div",{staticClass:"el-upload__tip",staticStyle:{position:"absolute",top:"35px",left:"215px",color:"#ccc"},attrs:{slot:"tip"},slot:"tip"},[e._v("格式为word或PDF，且不超过10M")])])],1),e._v(" "),r("el-form-item",[r("el-button",{staticStyle:{width:"150px","background-color":"#f76c1a",border:"#f76c1a"},attrs:{type:"primary"},on:{click:e.previous}},[e._v("上一步")]),e._v(" "),r("el-button",{staticStyle:{width:"150px","background-color":"#f76c1a",border:"#f76c1a"},attrs:{type:"primary"},on:{click:function(t){e.submit("ruleForm")}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var u=r("VU/8")(c,d,!1,function(e){r("o26a")},"data-v-6f821240",null).exports,m={name:"preliminary3",data:function(){return{msg:"",call:""}},props:{val:{type:Object}},created:function(){this.msg=this.$store.state.preliminary,console.log(this.msg)},methods:{},store:s.a},p={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"showmsg"},[r("div",{staticClass:"title"},[r("i",{staticClass:"icon iconfont icon-duigou"}),e._v(" "),r("span",[e._v("报名成功！")]),e._v(" "),r("table",[r("tr",[r("td",[e._v("姓名")]),e._v(" "),r("td",[e._v(e._s(this.msg.preliminary1.name))])]),e._v(" "),r("tr",[r("td",[e._v("性别")]),e._v(" "),r("td",[e._v(e._s(e.val.preliminary1.sex))])]),e._v(" "),r("tr",[r("td",[e._v("出生年月")]),e._v(" "),r("td",[e._v(e._s(e.val.preliminary1.region))])]),e._v(" "),r("tr",[r("td",[e._v("联系电话")]),e._v(" "),r("td",[e._v(e._s(e.msg.preliminary1.call))])]),e._v(" "),r("tr",[r("td",[e._v("职称")]),e._v(" "),r("td",[e._v(e._s(e.msg.preliminary1.professional))])]),e._v(" "),r("tr",[r("td",[e._v("授课年级")]),e._v(" "),r("td",[e._v(e._s(e.msg.preliminary1.grade))])]),e._v(" "),r("tr",[r("td",[e._v("任职学校")]),e._v(" "),r("td",[e._v(e._s(e.msg.preliminary1.school))])]),e._v(" "),r("tr",[r("td",[e._v("联系地址")]),e._v(" "),r("td",[e._v(e._s(e.msg.preliminary1.address))])]),e._v(" "),r("tr",[r("td",[e._v("参赛性质")]),e._v(" "),r("td",[r("span",{staticStyle:{color:"#000","font-size":"12px"}},[e._v(e._s(e.msg.preliminary1.nature))]),e._v(" "),e.msg.preliminary1.nature1?r("span",{staticStyle:{color:"#000","font-size":"12px"}},[e._v("("+e._s(e.msg.preliminary1.nature1)+")")]):e._e()])]),e._v(" "),r("tr",[r("td",[e._v("课件名称")]),e._v(" "),r("td",[e._v("[初赛课件]"+e._s(e.val.preliminary1.school)+"-"+e._s(e.val.preliminary1.name)+"-"+e._s(this.val.preliminary1.call.slice(-4)))])]),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[this._v("教学设计")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[this._v("演示课件")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[this._v("评测练习")])])}]};var v={name:"preliminary",data:function(){return{ruleForm:{name:"",sex:"男",region:"",call:"",professional:"",grade:"",school:"",address:"",nature:"个人",nature1:""},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"},{validator:function(e,t,r){if(!/^[\u4E00-\u9FA5A-Za-z]{1,6}$/.test(t))return r(new Error("请输入正确的姓名"));r()},trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],region:[{required:!0,message:"请选择日期",trigger:"blur"}],call:[{required:!0,message:"请输入电话号码",trigger:"blur"},{validator:function(e,t,r){return t?/^[1][3,4,5,7,8][0-9]{9}$/.test(t)?void r():r(new Error("手机号码格式不正确")):r(new Error("手机不能为空"))},trigger:"blur"}],grade:[{required:!0,message:"请输入年级",trigger:"blur"}],professional:[{required:!0,message:"请输入职称",trigger:"blur"}],school:[{required:!0,message:"请输入学校名称",trigger:"blur"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}],nature:[{required:!0,message:"请输入名称",trigger:"blur"}],nature1:[{required:!0,message:"请输入团队名称",trigger:"blur"}]},hided:!1}},methods:{change:function(e){console.log(e,"val"),console.log(this.inputValue,"input的值")},next:function(e){this.$store.state.preliminary.preliminary1=this.ruleForm,this.$store.state.flagOne=!1,this.$store.state.flagTwo=!0,this.$store.state.flagThree=!1,Object(o.a)("u_uuid")&&(this.$store.state.preliminary.preliminary1.id=Object(o.a)("u_uuid"));var t={id:this.$store.state.preliminary.preliminary1.id,actualname:this.$store.state.preliminary.preliminary1.name,sex:this.$store.state.preliminary.preliminary1.sex,birthdate:this.$store.state.preliminary.preliminary1.region,mobile:this.$store.state.preliminary.preliminary1.call,jobtitle:this.$store.state.preliminary.preliminary1.professional,teachgrade:this.$store.state.preliminary.preliminary1.grade,school:this.$store.state.preliminary.preliminary1.school,address:this.$store.state.preliminary.preliminary1.address,cstype:this.$store.state.preliminary.preliminary1.nature};""==t.cstype&&(t.cstype=this.$store.state.preliminary.preliminary1.nature1),"男"==t.sex&&(t.sex=0),"女"==t.sex&&(t.sex=1),this.$post("/levy/preliminary/plyupdate",t).then(function(e){})}},components:{message:i,Preliminary2:u,Preliminary3:r("VU/8")(m,p,!1,function(e){r("RC5g")},"data-v-165c1da8",null).exports},store:s.a},h={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"preliminary"},[r("span",[e._v("我的初赛")]),e._v(" "),r("message"),e._v(" "),r("el-form",{directives:[{name:"show",rawName:"v-show",value:this.$store.state.flagOne,expression:"this.$store.state.flagOne"}],ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{staticStyle:{width:"450px"},attrs:{label:"姓名",prop:"name"}},[r("el-input",{attrs:{size:"mini",placeholder:"请输入姓名"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"性别",prop:"sex"}},[r("el-radio-group",{model:{value:e.ruleForm.sex,callback:function(t){e.$set(e.ruleForm,"sex",t)},expression:"ruleForm.sex"}},[r("el-radio",{attrs:{label:"男"}}),e._v(" "),r("el-radio",{attrs:{label:"女"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"出生日期",prop:"region"}},[r("el-date-picker",{staticStyle:{width:"350px"},attrs:{size:"mini",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.ruleForm.region,callback:function(t){e.$set(e.ruleForm,"region",t)},expression:"ruleForm.region"}})],1),e._v(" "),r("el-form-item",{staticStyle:{width:"450px"},attrs:{label:"手机号码",prop:"call"}},[r("el-input",{attrs:{size:"mini",placeholder:"请输入电话号码"},model:{value:e.ruleForm.call,callback:function(t){e.$set(e.ruleForm,"call",t)},expression:"ruleForm.call"}})],1),e._v(" "),r("el-form-item",{staticStyle:{width:"450px"},attrs:{label:"职称",prop:"professional"}},[r("el-input",{attrs:{size:"mini",placeholder:"请输入职称"},model:{value:e.ruleForm.professional,callback:function(t){e.$set(e.ruleForm,"professional",t)},expression:"ruleForm.professional"}})],1),e._v(" "),r("el-form-item",{staticStyle:{width:"450px"},attrs:{label:"授课年级",prop:"grade"}},[r("el-input",{attrs:{size:"mini",placeholder:"请输入年级"},model:{value:e.ruleForm.grade,callback:function(t){e.$set(e.ruleForm,"grade",t)},expression:"ruleForm.grade"}})],1),e._v(" "),r("el-form-item",{staticStyle:{width:"450px"},attrs:{label:"任职学校",prop:"school"}},[r("el-input",{attrs:{size:"mini",placeholder:"请输入任职学校"},model:{value:e.ruleForm.school,callback:function(t){e.$set(e.ruleForm,"school",t)},expression:"ruleForm.school"}})],1),e._v(" "),r("el-form-item",{staticStyle:{width:"450px"},attrs:{label:"联系地址",prop:"address"}},[r("el-input",{attrs:{size:"mini",placeholder:"请输入联系地址"},model:{value:e.ruleForm.address,callback:function(t){e.$set(e.ruleForm,"address",t)},expression:"ruleForm.address"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"参赛性质",prop:"nature"}},[r("el-radio-group",{attrs:{prop:"nature1"},on:{change:e.change},model:{value:e.ruleForm.nature,callback:function(t){e.$set(e.ruleForm,"nature",t)},expression:"ruleForm.nature"}},[r("el-radio",{attrs:{label:"个人"}}),e._v(" "),r("el-radio",{attrs:{label:"团体"}})],1)],1),e._v(" "),"个人"!==e.ruleForm.nature?r("el-form-item",{staticStyle:{width:"450px"},attrs:{label:"团队名称",prop:"nature1"}},[r("el-input",{attrs:{size:"mini",placeholder:"请输入团队"},model:{value:e.ruleForm.nature1,callback:function(t){e.$set(e.ruleForm,"nature1",t)},expression:"ruleForm.nature1"}})],1):e._e(),e._v(" "),r("el-form-item",[r("el-button",{staticStyle:{width:"250px","background-color":"#f76c1a",border:"#f76c1a"},attrs:{type:"primary"},on:{click:function(t){e.next("ruleForm")}}},[e._v("下一步")])],1)],1),e._v(" "),r("Preliminary2",{directives:[{name:"show",rawName:"v-show",value:this.$store.state.flagTwo,expression:"this.$store.state.flagTwo"}],attrs:{val:this.$store.state.preliminary}}),e._v(" "),this.$store.state.flagThree?r("Preliminary3",{attrs:{val:this.$store.state.preliminary}}):e._e()],1)},staticRenderFns:[]};var _=r("VU/8")(v,h,!1,function(e){r("ahVZ")},"data-v-5b8603a0",null);t.default=_.exports},RC5g:function(e,t){},ahVZ:function(e,t){},o26a:function(e,t){},yPQP:function(e,t){}});
//# sourceMappingURL=2.a5f65484893892f46d96.js.map